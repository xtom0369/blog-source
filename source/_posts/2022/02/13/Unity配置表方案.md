---
title: Unity配置表方案
date: 2022-02-13 22:41:30
tags:
- Unity
- 配置表
- csv
categories:
- Unity
- 配置表
---

## XConfig 是一个基于Unity引擎、可快速入门的、轻量的配置表系统

## <font color=#64EBC1>特色</font>

- **csv => bytes**

源文件格式选用了csv，csv相比excel可以方便地进行版本对比，发生冲突时也可以进行合并；二进制作为导出格式有较高的读写效率。

- **自动生成表解析代码**：一键生成配置表解析代码，无需手撸解析代码；
- **基本数据类型**：支持byte，bool，int，long，float，Vector2，Color，List等基础数据类型；
- **双主键**：支持配置两个主键，比如英雄等级表需要英雄id和英雄level两个主键共同决定配置行；
- **表关联**：支持不同配置表之间进行关联；
- **表继承**：支持建立表继承关系，比如道具分多种类型的道具，通用道具字段放父表，不同道具的特殊字段放子表；
- **自定义类型**：支持快速添加自定义数据类型，支持后自动支持List的泛型类型
- **表/行的代码类扩展**：支持在扩展类中对表/行的字段数据进行二次处理或组织
- **热刷新**：支持运行时刷新配置表；（当前只支持对已有字段进行修改，不支持增减行或列，避免影响运行时已引用的数据）

<!-- more -->

## <font color=#64EBC1>目的</font>



## <font color=#64EBC1>核心功能</font>

举个例子，游戏中经常涉及“道具id”以及“数量”的例子，比如

- 掉落需要配置“掉落道具id”和“掉落数量”
- 消耗需要配置“消耗道具id”和“消耗数量”
 
这时候在没有自定义类型时一般有两种配置方法

- 原始配置：即在用到的配置表中配置id和数量两列。这样的问题在于